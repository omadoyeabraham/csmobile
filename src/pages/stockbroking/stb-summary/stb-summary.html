<!--
  Generated template for the StbSummaryPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>
  <ion-navbar hideBackButton>
    <ion-buttons left>
      <button ion-button icon-only menuToggle>
        <ion-icon name="menu"></ion-icon>
      </button>
    </ion-buttons>
    <ion-title>STB Summary</ion-title>
  </ion-navbar>
</ion-header>


<ion-content no-padding>
    <switch-portfolio [showCashAvailableForTrading]="false" [showTotalValue]="true">
    </switch-portfolio>

    <!-- Summary -->
    <ion-item-group class="portfolio-summary-wrapper">
      <ion-item-divider color="light" class="font-size-18 bg-light-blue">Summary</ion-item-divider>
      <ion-item class="ml0">
        <span class="ml0">CHN</span>
        <span item-end>{{ currentPortfolio.clearingHouseNo }}</span>
      </ion-item>
      <ion-item>
        CSCS Number
        <span item-end>{{ currentPortfolio.accountNo }}</span>
      </ion-item>
      <ion-item>
        Current Value
        <span item-end>&#8358;{{ currentPortfolio.currentValuation.amount | number:'1.2-2' }}</span>
      </ion-item>
      <ion-item>
        Acquisition Cost
        <span item-end>&#8358;{{ currentPortfolio.costBasis.amount | number:'1.2-2' }}</span>
      </ion-item>
      <ion-item>
        Gain/Loss
        <span item-end class="font-green"><color-format [data]="currentPortfolio.gainOrLoss" [showCurrency]="true"></color-format></span>
      </ion-item>
      <ion-item>
        Gain/Loss (%)
        <span item-end class="font-green"><color-format [data]="currentPortfolio.percGain" [showCurrency]="false"></color-format></span>
      </ion-item>
      <ion-item></ion-item>
    </ion-item-group>

    <!-- Stock Holdings and Allocation -->
    <div no-padding>
      <ion-segment [(ngModel)]="chartType">
        <ion-segment-button value="stockPerformance">
          Stocks Performance
        </ion-segment-button>
        <ion-segment-button value="bondPerformance">
         Bond Performance
        </ion-segment-button>
      </ion-segment>
    </div>

    <div *ngIf="stockData" id="stockPerformanceChart"
         style="height: 200px"
         [ngClass]="{'hideGraph': hideStockPerformanceChart()}">
    </div>

    <ion-item *ngIf="!stockData" [ngClass]="{'hideGraph': hideStockPerformanceChart()}" id="stockPerformanceChart">
      <ion-grid>
        <ion-row class="mt40 mb40">
          <ion-col text-center class="font-size-16">
            No stock holdings in this portfolio
          </ion-col>
        </ion-row>
      </ion-grid>
    </ion-item>

    <div *ngIf="bondData" id="bondPerformanceChart"
         style="display: block;  height: 200px"
         [ngClass]="{'hideGraph': hideBondPerformanceChart()}">
    </div>

    <ion-item *ngIf="!bondData" [ngClass]="{'hideGraph': hideBondPerformanceChart()}" id="bondPerformanceChart">
      <ion-grid>
        <ion-row class="mt40 mb40">
          <ion-col text-center class="font-size-16">
            No bond holdings in this portfolio
          </ion-col>
        </ion-row>
      </ion-grid>
    </ion-item>

</ion-content>
